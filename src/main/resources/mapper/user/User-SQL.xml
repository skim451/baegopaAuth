<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="user">
	<select id="selectUserList" parameterType="hashmap" resultType="com.baegopa.auth.dto.UserDTO">
		<![CDATA[
			SELECT
    			id, 
    			email
			FROM
   				users  
			ORDER BY id ASC
		]]>
	</select>
	
	<insert id="insertUser" parameterType="hashmap">
	    <![CDATA[
	        INSERT INTO users
	        (
	            id, 
	            email, 
	            password, 
	            use_yn, 
	            created_at, 
	            updated_at
	        )
	        
	        VALUES
	        (
	            #{id},
	            #{email},
	            #{password},
	            'Y', 
	            NOW(),
	            NOW()
	        )
	    ]]>
	</insert>
	
	<update id="updateUser" parameterType="hashmap">
	    <![CDATA[
	        UPDATE users
	        SET
	            password = #{newPassword} 
	        WHERE
	            ID = #{id} AND PW = #{oldPassword}   
	    ]]>
	</update>
	
	<update id="deleteUser" parameterType="hashmap"> 
		<![CDATA[
	        UPDATE users
	        SET
	            use_yn = 'N'
	        WHERE
	            ID = #{id} AND PW = #{Password}   
	    ]]>
	</update>
	
</mapper>

